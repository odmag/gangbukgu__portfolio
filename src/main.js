/****************************
 * NAVBAR TOGGLE
 ****************************/
const togglebtn = document.querySelector(".navbar__togglebt");
const menu = document.querySelector(".navbar__menu");

togglebtn.addEventListener("click", () => {
  menu.classList.toggle("active");
});



/****************************************************
 * POPUP (여러 팝업 개별 대응)
 * - .polaroid 클릭 → data-target에 지정된 팝업 열기
 * - 팝업은 여러 개 존재 가능 (#popup1, #popup2, ...)
 * - 팝업 내부 이미지/텍스트/next/prev는 각 팝업 기준 동작
 ****************************************************/

// 1) 갤러리 카드 선택
const cards = document.querySelectorAll(".polaroid");

cards.forEach((card) => {
  card.addEventListener("click", () => {

    // placeholder는 무시
    if (card.classList.contains("placeholder")) return;

    // data-target="#popup1" 또는 "#popup2" … 형태
    const target = card.dataset.target;
    if (!target) return;

    const popup = document.querySelector(target);
    if (!popup) return;

    // 팝업이 처음 열릴 때 "현재 이미지 = 1" 로 초기화
    popup.dataset.current = "1";

    // 팝업에 첫 이미지 표시
    updatePopupImage(popup);

    // 팝업 열기
    popup.classList.add("show");
  });
});



/****************************************************
 * 팝업 닫기
 ****************************************************/

// 2) 닫기(X) 버튼 클릭 → 해당 팝업만 닫기
document.querySelectorAll(".popup__close").forEach((btn) => {
  btn.addEventListener("click", (e) => {
    e.stopPropagation();   // 클릭 이벤트가 부모로 전달되지 않도록
    const popup = btn.closest(".popup");
    popup.classList.remove("show");
  });
});

// 3) popup 배경 클릭 → 닫기
document.querySelectorAll(".popup").forEach((popup) => {
  popup.addEventListener("click", (e) => {
    // 배경 클릭 시만 닫기
    if (e.target === popup) popup.classList.remove("show");
  });
});



/****************************************************
 * Popup Slide: NEXT / PREV
 * 팝업 여러 개가 있을 수 있으므로
 *   → document 전체에 event delegation 사용
 ****************************************************/
document.addEventListener("click", (e) => {
  // NEXT 버튼
  if (e.target.classList.contains("popup__next")) {
    const popup = e.target.closest(".popup");
    stepImage(popup, +1);
  }

  // PREV 버튼
  if (e.target.classList.contains("popup__prev")) {
    const popup = e.target.closest(".popup");
    stepImage(popup, -1);
  }
});



/****************************************************
 * Helper functions
 ****************************************************/

// 작품별 이미지 총 개수를 data-total로 관리
function getTotal(popup) {
  return Number(popup.dataset.total || "5");
}

// 작품별 이미지 폴더 이름 (data-folder)
function getFolder(popup) {
  return popup.dataset.folder || "modal1";
}

// 현재 이미지 index
function getCurrent(popup) {
  return Number(popup.dataset.current || "1");
}

// index 갱신
function setCurrent(popup, val) {
  popup.dataset.current = String(val);
}



// ✅ 팝업 이미지 변경 (+ fade 효과)
function updatePopupImage(popup) {
  const img = popup.querySelector(".popup__image");
  const folder = getFolder(popup);
  const idx = getCurrent(popup);

  if (!img) return;

  // fade-out
  img.classList.add("fade-out");

  setTimeout(() => {
    img.src = `images/works/${folder}/no${idx}.JPG`;

    img.onload = () => {
      img.classList.remove("fade-out"); // fade-in
    };
  }, 180);
}



// ✅ 다음 / 이전
function stepImage(popup, delta) {
  const total = getTotal(popup);
  let cur = getCurrent(popup) + delta;

  if (cur > total) cur = 1;
  if (cur < 1) cur = total;

  setCurrent(popup, cur);
  updatePopupImage(popup);
}

/************************************************
 * NOTES POPUP
 ************************************************/
const noteData = {
  "note01": {
    title: "중년이 되었다",
    date: "2024.01",
    body: `이제 병원에 가면 의사 선생님은 이렇게 말한다.

'아직은, 젊으시니까 괜찮아요'


가만히 소파에 누워있는데 옆에 앉아있던 엄마는 괜히 말한다.

'너도 염색 해야겠다'


간만에 만난 또래 친구들이 대화 중간에 가만히 보더니 결국 말한다.

'야 우리도 많이 늙었다. 이제 관리해야되'


휴대폰에서 추억이라며 알려주는 지난 사진들을 보고 아내가 말한다.

'이때 남편 너무 애기애기했다'


처음에는 당연히 반사적으로 거부했다. 어안이 벙벙하고 어이 없다는 듯이. 아연실색하며 열렬히 거부했다.









'나 아직 아닌데!'

'나 머리 시커먼데!!'

'나 아직 짱짱한데!!!'

'나 애기애기한데!!!!!!!!!'









하지만 시간은 왜이리 정직한지. 눈치채지 못하게 슬그머니 오는 것 같다가도 잠시 숨돌리면 한껏 밀고 들어와있다. 쉼 없이, 끊임없이, 작지만 분명한 싸인들은 자꾸 생겼다.

이런 적이 있었다. 마냥 아기일 것만 같던 아이가 어느새 초등학생이 되었고, 오랜만에 서로 만난 날이었다. 나는 나를 형이라 불러야 할지, 삼촌이라 해야할지, 아니면 아저씨라고 해야할 지 갑자기 내 스스로 내 호칭을 잃어버렸다. 입술을 오물오물 우물쭈물하다, 나는 겨우 말했다.

'너, 나, 기억해?'

쿨하게 미국식으로 말한 것 같지만, 아마 티가 났을 것이다. 곤란한 상황에 인칭대명사를 떠올리면서 위급한 상황에 슬기롭게 대처한 순발력을 칭찬하며 애써 위로하고 싶었지만, 흔들리는 내 동공을 아이는 분명 봤을 것이기 때문에 난 금새 좌절했다. 

이런 적도 있었다. 북적이는 공원, 눈 앞에서 아이스크림 포장지를 뜯지 못하는 여자아이가 있었다. 낑낑대고 있는 아이에게 시선이 갈 수 밖에 없는 각도에 내가 앉아 있었고, 아주 넉살좋게 손을 내밀며 난 이렇게 말해버렸다.












'오빠가 해줄게'

순간 일시정지 버튼을 누른듯 멈춘 공간과 입을 벌린 아이 부모님과 어색한 공기. 아이의 맑디 맑은 눈망울 앞에 이 퉁퉁한 아저씨는 당최 뭐라고 한건가. 난 이상한 수치심을 느꼈다. 아니, 죄의식이었을지 모른다. 

중년의 단서들. 나는 생각보다 더 많은 변화가 있었음을, 멍하니 벤치에서 쉬고 있던 어느날 뒤늦게 벼락을 맞은 듯 자각했다.

진짜 정말 조금만 먹고 운동을 미친듯이 많이 한것 같은데, 속상하게도 언젠가부터 다이어트가 잘 되지 않았다. 헬스장에서 얼굴 벌겋게 무게를 치면 며칠은 온몸을 연신 두드려맞은 듯한 근육통과 졸음이 몰려왔다. 식사를 하고 바로 잠들어도 쭉쭉 되던 소화력이 현저히 떨어졌고, 누구의 이름이 뭔지와 동시에 있었던 과거를 줄줄이 말하던 기억력이 점차 흐릿해졌다. 하루를 밤새면 며칠은 힘들었고, 주량은 병에서 잔으로 바뀌었다. 갑작스런 비소식은 신비한 확률로 무릎이 미리 알았고, 거울을 보면 자꾸 눈을 크게 뜨게 되고, 가까이에 가서 얼굴을 이리 저리 만졌다. 농구를 할때 나를 약올리거나 봐주는 학생들도 간혹 생겼고, 몇 년전에는 손쉽게 이겼는데 지금은 도저히 이길 수가 없었다. 자꾸만 유치한 말장난에 웃음이 났고, 한참 걷다가 의자에 앉을때 저절로 옅은 신음이 나왔다. 발을 내딛을 때 뒷꿈치를 꾹꾹 지면에 딛으며 자연스레 뒷짐을 지다가 놀라서 풀기도 했다. 새로운 어플은 조금 어려워졌고, 업데이트에 둔감해졌으며, 시스템의 발전이 이따금 너무나 혁신적으로 느껴졌다.

중년이 정확히 몇 세를 말하는지는 모르겠지만, 타의에 의해서든 자의에 의해서든 난 깨달아버렸다. 그리고 속으로 말했다. 










'아, 나 이 타이밍이구나'

(계속)`,
  },





  "note02": {
    title: "퇴사 후유증",
    date: "2024.02",
    body: `2023년 12월 31일 일요일. 두 번째 퇴사를 했다. 그리고 봄이 된 2024년 4월의 늦은 아침. 배게 속에 얼굴을 파묻고 난 소리쳤다. 








'아아아아아악! 따뜻할 때 퇴사할껄'






중요한 회사일을 갈무리하고 한숨 돌린 2023년 어느 날. 우연히 달력을 보고, 나는 퇴사일을 거진 운명적으로 받아들였다. 내 퇴사일은 그 해 숫자가 가장 꽉찬 날인데다, 심지어 일요일. 바로 다음 날은 2024년 1월 1일. 월요일이었다. 숫자도 아주 심플해지는 데다가 완전히 리셋을 하고 새로운 시작을 하기엔 이보다 더 좋은 날이 없다는 게 소름끼치는 내 계산법이었다. 아주 겸허하고도 진지하지만 미래의 어떠한 플랜 하나 없이 난 처음으로 회사에 내 퇴사일을 통보했고, 아름답게 이별했다. 그리고 퇴사 다음날이 되었다. 







…








아무 것도 변한 것이 없었다. 변한 것은 고작 날짜 뿐이었다. 하루 아침에 겨울이 따뜻하게 바뀌지도 않았고, 새로운 영감이 나를 찾아오지도 않았다. 새해라고는 하는데, 어제와 오늘의 차이가 너무나도 없어서 걸어다니는게 어색할 정도였다. 새해를 상징하는 많은 이벤트와 뉴스들에 감정이 동요하지도 않았다. 쿨하게 떠났던 채팅방은 당연히 조용할 수 밖에 없었고, 핸드폰은 스팸문자에 하루에 몇 번 몸을 부르르 떨뿐이었다. 

포근할 줄만 알았던 집에서의 겨울이 너무 추웠다. 심지어 그 해 겨울은 유독 갑작스럽게 기록적인 폭설을 기록했다. 자발적으로 나는 나를 집에 가뒀다. 그리고 여러 의미로 나는 갇혔다.

퇴사 후 일상은 보통 이러했다.

아내를 지하철역까지 데려다주는 그 날의 할일을 아침 일찍부터 마무리하면, 집에 돌아와 냉동참치를 던지듯 침대에 몸을 던졌다. 멍하니 천정을 보고 있다가 이러면 안되겠다는 반성이 몰려오면, 커피 두잔 분량을 내리고, 과자를 먹으며 추천받은 넷플릭스를 띄엄띄엄 보기 시작했다. 그마저도 눈에 들어오지 않을땐 노트북으로 지난 일기와 작업들을 보거나 괜시리 핸드폰으로 사진들을 꺼내 보곤 했다. 도무지 생산성과 접점이라고는 없는데다 편하게 널브러지지도 못하는 일개 미천한 인간일 뿐이었다.





심지어 아프기까지 했다.






 응급실을 갈만큼의 이유 없는 복통으로 한 동안 고생을 했다. 이제는 나았다고 생각했을때 난데 없이 몸살이 찾아왔다. 의사선생님은 코로나인 것 같은데 코로나검사를 하겠냐며 제안을 했지만 난 거절했다. 잘 알고 있던 녀석이기에 나는 일주일을 꽉 채워 버텼다. 

그런데 이번엔 간염이 왔다. 기운이 없고 눈동자엔 살짝 노란 기운도 돌았다. 그동안 집에만 있었는데 병원에서는 면역력이 떨어졌다며 아무것도 하지말고 집에서 푹 쉬라고 했다. 분명 쉬고 있었지만, 몸이 계속 쉬라고 신호를 보낸다면 난 정말로 쉬고 있는게 아닐 수도 있다는 걸 한겨울을 통째로 보내고 나서야 깨달았다.

 내가 할 수 있는 일은 그저 겨울잠을 자는 곰처럼 봄만 기다리는 것뿐이었다. 

그리고 마침내.















봄이 왔다.

(계속)`,
  },




  
  "note03": {
    title: "팩트체크",
    date: "2024.03",
    body: `이제는 무언가를 해야할 것만 같았다. 나는 팩트 체크를 하기 시작했다. 

자, 이제 나는 중년이고, 퇴사를 했다. 어른의 나이에 이미 도착했지만, 슬프게도 당장 어떤 계획이 없다. 그런데 가만히 보니, 나는 엄연히 한 가정의 가장과 동시에 자랑스럽고 싶은 부모님의 장남이기도 했다. 심지어는 요근래 온갖 질환을 겪으며 예전 같지 않은 몸상태까지 확인했다. 






큰일이다. 








아무도 무언가를 해야한다고 말하지 않았지만, 시간이 지나면서 조금씩 어색해지는 일상이 생기기 시작했다. 

오랜만의 식사에 아버지가 말을 참을 때 하는 몸짓을 보았고, 엄마가 어느 날부터 반찬을 수북히 만들어 보내주셨다. 장인어른과 만날때마다 주고받는 대화 틈틈히 내가 절대 백수일 수가 없는 거짓 일상을 능청스럽게 섞어야 했다. 할머니와 통화할 때 손주 걱정이 쏟아지려는 찰나 자연스레 대화의 화제를 먹고 싶은 음식이나 건강으로 돌리는 기술을 연마했다. 

쉽게 사먹던 배달음식을 고르는데 메뉴선택에 머뭇거림이 생겼다. 따박따박 정기 결제되던 각종 서비스마다 장단점을 꼬치꼬치 분석하게 되었다. 친구 생일 선물로는 역시 먹을게 가장 좋다는 결정론자가 되었다. 이발과 면도의 필요성을 느끼지 못해 방치했더니 홈플러스 아주머니께서 안하던 외모평가를 대뜸 해주셨다. 






하지만.

그럼에도 불구하고.

 기다리고 기다리던 봄이 왔다!






 아침에 현관문을 열었을 때 공기 냄새부터 달라졌다. 분주하게 움직이는 벌레들과 봉오리를 벌리는 식물들. 이슬이 알알이 맺힌 초록 새싹을 만지면 손가락 끝에 습기가 느껴지고, 가시처럼 불던 바람이 솜사탕같이 부드럽고 향긋했다. 공기 사이로 지나가는 생명의 에네르기와 길어지는 햇살의 기울기마저 온몸으로 느껴졌다. 산책을 하는 할머니 할아버지의 걸음걸이가 부력이 생기듯 잠깐씩 떠있고, 개학을 맞이한 아이들의 뒷모습마저 신나보였다. 흐드러지게 지는 꽃들을 보거나 낙엽이 비가 되어 내리는 계절을 맞닥들였을때 운전하는 창 밖으로 늘 아쉬워하며, 꼭 퇴사를 하면 하루도 빠짐없이 봄가을을 만끽해야겠다며 다짐하곤 했는데 지금이 그때였다. 









아 좋다………..

 








아 좋은데……….












왠지 모르게, 무언가가 부족했다.

일찍 핀 잎사귀가 어느새 많이도 떨어져있다는 사실을 알아차렸을 때부터일까. 마음이 곤두박질치듯 바빠졌다. 자꾸만 못난 심사만 떠오르고 사이사이 무언의 자기반성이 차곡차곡 쌓였다. 나는 봄이 된지 얼마나 됐다고 곧장 어두운 센티멘탈에 빠졌다. 

 어제의 몇배나 되는 혓바닥을 하루만에 가득 내미는 꽃잎이 조금 징그럽다는 생각이 들었다. 팝콘이 터지듯 피어나는 개나리며 지글지글 타오르는 진달래, 한 없이 살랑거리는 벚꽃이 대체 무슨 이유로 바쁘게 저럴까 싶었다. 창 밖으로 지저귀는 새들의 울음이 노랫소리가 아니라 기가 센 악다구니처럼 들렸다. 여름이 되면 현관 비밀번호를 누를 때 입력소리를 음소거 시켜버리는 매미 떼들이 지금 흙바닥에 드글드글 준비하고 있을거란 생각에 살짝 소름도 들었다. 

처음 제대로 맞아보는 봄이 왔는데도, 물을 가득 주거나 햇빛에 타버린 화분의 식물처럼 나는 금새 시들해졌다. 

쉼 없이 움직이는 계절에 아무 소용도 없는 열등감이 들었다. 분주하게 무언가를 실어 나르는 벌레들과 꽃을 피우고 이제 질 준비를 시작하는 봄꽃들과 늘 같은 시간에 출근하는 이웃들의 걸음걸이와 정직하게 채워지는 달력의 날짜들. 그럼에도 꼬박꼬박 밥을 먹고 부지런히 필수수면시간을 초과하는 삶을 영위하는, 집 속의 나. 그저 관조하고 구경하는 나와 나의 상황이 마치 우주의 운행에 참여하지 않고 소홀하고 있다는 눈치를 받는 듯했다. 선의의 안부에 쉬고 있다는 말이 마치 해야할 일을 하지 않고 있다는 게으름처럼 비춰질까 은근한 자격지심마저 들기 시작했다. 마치 어떤 카운트다운을 향해 달려가고 있다는 조바심 마저 들었다. 센티멘탈은 시간이 갈수록 점점 더 깊어졌다.

무수한 상념이 꼬리의 꼬리를 물었다. 난 스스로에게 질문했다.





넌 앞으로 어떻게 살거야?

너 뭘 할 수 있어?

하고 싶은게 있어?

새로운 걸 하고싶은거야?

뭐가 새로운건데?






질문의 꼬리를 물면 물수록 더 날선 질문의 이빨이 반짝였다. 생각의 도돌이표가 소용돌이가 되기 전에 난 상념을 어서 벗어던지고 인간다운 액션, 중년다운 행동, 가족구성원으로서의 의무를 해야한다는 결론을 내렸다. 

며칠의 고민을 부랴부랴 끝내고.
















난 드디어 무언가를 하기로 했다. 

(계속)`,
  }
  
  


  
};

noteData["note04"] = {
  title: "뼈아픈 실수",
  date: "2024.04",
  body: `며칠의 고민을 요약하면 이랬다. 

나는 (          )를 좋아한다. 

그러니까 (          )를 하고 싶다.

(            )은 바로

커피.

오 단순하고 좋은데? 

 커피를 시작하기로 했다. 나는 바리스타가 되볼 심산으로 퇴직금을 할애해 큰 금액을 지불하고 커피학원 바리스타 전과정을 등록했다. 동시에 지인 가게에서 카페 알바를 병행하며 현장경험을 익힌 후, 모은 돈과 남은 퇴직금을 사용해 멋진 커피가게를 운영해야겠다는 계획까지 수립했다. 평소에도 좋아하는 커피를 업으로 할 수 있다면 꽤 좋은 일이라는 결심이 곧 결론이었다. 

커피학원 첫 수업부터 카페에서의 알바 첫날은 기대만큼 즐겁고 유익했다. 시작이 반이라고 하던데, 난 이미 반 이상을 온것만 같았다. 기분이 좋아 가게를 운영할만한 상권도 분석하고 유사 케이스까지 조사했다. 나는 커피를 내리고 손님들은 커피를 맛있게 먹는 아름다운 장면이 저절로 상상됐다. 

그런데.

문제가 생겼다.

 커피를 아무리 마셔도 잘자고 건강하던 몸이 달라졌다. 향도 좋고 맛도 좋은 커피를 맛있게 마시면, 기분도 좋아지고 잠시 총명해졌지만 조금만 지나서 평소보다 피로감과 두근거림이 몰려왔다. 게다가 커피를 마시고 오래지 않아 화장실에 자주 가고 싶어지고, 일부러 마시지 않은 날에도 전날의 커피 영향이 느껴질 정도였다. 많이 마신 날은 잠에 쉽게 들지 못하고 뒤척이기 일쑤였다. 하지만 아무래도 커피를 하기로 한 이상 나는 계속 커피를 마실 수 밖에 없었고 커피를 알아야 했다. 일주일이 채 안돼 컨디션이 좋지 않아졌고, 단단해보였던 결심은 바로 흔들렸다. 

하지만 그것보다.

더 큰 문제가 있었다.

‘커피를 좋아한다’ 사이에 ‘진심’이나 ‘정말’이란 단어는 나에게 없었다. 좋아한다와 사랑한다 사이의 다른 언어가 있다면 나는 그 단어조차 쓸 수 없는 마음이란걸 알았다. 

난 제대로 목격했다. 커피를 진짜로 대하는 사람과 그렇지 않은 사람을. 

먼저 커피학원 선생님은 전문가였다. 커피에 관한 대부분을 알았다. 나의 무수한 질문에 막힘이 없는 대답이며, 프로페셔널하게 커피 내리는 솜씨, 커피시장에 관한 전반적인 경향과 장사로서의 커피에도 경험과 식견이 많았다. 

커피가게 사장님 역시 전문가였다. 커피에 관한 대부분을 알았다. 나의 어리석은 질문에 역시나 머뭇거림도 없고 서슴대는 기미도 없이 즉답했다. 그동안에 사용해본 그라인더와 드리퍼, 제빙기와 온수기에 대한 정보를 줄줄이 알려 주었고, 내가 경험해보면 좋을 것 같은 개성있는 다른 카페에 대해서도 친절하게 알려주었다. 본인의 레시피도 가감없이 알려주면서도 작고 세심한 부분까지 배려해주었다. 아침에 출근하면 너무나 당연하다는 듯이 커피를 핸드드립으로 내어주었는데, 커피를 모르는 내가 마셔도 참 맛있다는 느낌을 직감적으로 받았다. 

그런데 매일 아침 커피를 내리는 그 모습이 어느날 새롭게 다가왔다. 그 날의 커피 맛이 어제와 다를 수 밖에 없다는 걸 가정한듯, 첫모금을 마실때 눈과 혀를 굴리며 커피를 체크하는 모습이 새롭게 보였다. 감동적인 음악을 듣거나 그림을 봤을때의 느낌같기도 하고, 내가 살면서 보았던 멋진 사람들이 하나같이 가지고 있던 침묵의 덩어리가 그 사람에게도 느껴졌다. 아우라가 있고 아름다워보였다. 카페를 하는 사람이기도 했지만, 커피를 하는 사람처럼 느껴지고 더 나아가서 커피를 해야만 하는 사람처럼 느껴졌다. 그게 내가 갖고 싶었던 것이었는데 나는 바로 자각했다. 내가 이 사람만큼의 마음의 크기로 시작한걸까. 나는 커피와 얼만큼 친밀한가. 나를 커피에 빠뜨릴 만큼 나는 커피가 궁금하고 좋은걸까. 

그래서 난. 

포기하기로 했다. 

아니 포기했다. 커피를.`
};



const rows = document.querySelectorAll(".note__row");
const popup = document.getElementById("notePopup");
const popupClose = popup.querySelector(".notePopup__close");
const popupTitle = popup.querySelector(".notePopup__title");
const popupDate = popup.querySelector(".notePopup__date");
const popupBody = popup.querySelector(".notePopup__body");


rows.forEach(row => {
  row.addEventListener("click", () => {
    const key = row.dataset.note;
    const item = noteData[key];
    if (!item) return;

    popupTitle.textContent = item.title;
    popupDate.textContent = item.date;
    popupBody.textContent = item.body;

    popup.classList.add("show");
  });
});

popupClose.addEventListener("click", () => popup.classList.remove("show"));
popup.addEventListener("click", e => {
  if (e.target === popup) popup.classList.remove("show");
});
